# 의사결정 로그

프로젝트의 주요 기술적 결정과 그 배경을 기록합니다.

---

## 작성 가이드

각 의사결정은 다음 형식으로 기록:

```markdown
## [결정 제목]

**일자**: YYYY-MM-DD
**상태**: 결정됨 / 검토중 / 폐기됨
**관련 커밋**: `해시` 또는 PR 링크

### 컨텍스트
- 어떤 상황에서 이 결정이 필요했는가?

### 선택지
1. **선택지 A** - 장점 / 단점
2. **선택지 B** - 장점 / 단점
3. **선택지 C** - 장점 / 단점

### 결정
- 어떤 선택을 했는가?
- 왜 이 선택을 했는가?

### 결과
- 결정 후 어떤 영향이 있었는가?
- 예상과 다른 점은?

### 회고 (선택)
- 다시 결정한다면?
- 배운 점?
```

---

## UI 아키텍처: MVP → Widget

**일자**: 2024-XX-XX
**상태**: 결정됨
**관련 커밋**: `6792d60`

### 컨텍스트
- 초기 UI 설계에서 MVP(Model-View-Presenter) 패턴 검토
- Unity의 GameObject 기반 UI와 전통적 MVP의 괴리 발견

### 선택지
1. **MVP 패턴 유지**
   - 장점: 테스트 용이, 관심사 분리 명확
   - 단점: Unity UI와 맞지 않는 추상화, 보일러플레이트 증가

2. **Widget 기반 시스템**
   - 장점: Unity 친화적, 계층 구조 자연스러움
   - 단점: 테스트가 MonoBehaviour에 종속

3. **MVVM 패턴**
   - 장점: 데이터 바인딩 강점
   - 단점: Unity에서 구현 복잡, 오버엔지니어링 우려

### 결정
**Widget 기반 시스템** 선택

**이유**:
- Unity의 GameObject 계층 구조와 자연스럽게 매핑
- Prefab 기반 UI 워크플로우와 호환
- 실용적인 수준의 복잡도 유지

### 결과
- Screen/Popup/Navigation 구조가 직관적으로 구현됨
- Prefab 기반 작업 흐름 유지
- 테스트는 PlayMode 테스트로 대응

---

## Assembly Definition 모듈화 전략

**일자**: 2024-XX-XX
**상태**: 결정됨
**관련 커밋**: `968b75d`

### 컨텍스트
- 프로젝트 규모 성장에 따른 컴파일 시간 증가 우려
- 코드 의존성 명시적 관리 필요

### 선택지
1. **Assembly 없이 진행**
   - 장점: 설정 단순
   - 단점: 컴파일 시간 증가, 순환 참조 위험

2. **기능별 Assembly 분리**
   - 장점: 컴파일 최적화, 의존성 명시
   - 단점: 초기 설정 비용

3. **Layer별 Assembly 분리**
   - 장점: 아키텍처 레이어 강제
   - 단점: 기능 추가 시 여러 Assembly 수정 필요

### 결정
**기능별 Assembly 분리** (`Sc.` 접두사)

**이유**:
- 각 기능이 독립적으로 컴파일/테스트 가능
- 의존성 그래프 명시적 관리
- 순환 참조 컴파일 타임 방지

### 결과
- Core, UI, Contents 등 명확한 모듈 경계
- 새 기능 추가 시 의존성 설계 강제
- Editor 전용 코드 완전 분리 가능

---

## 이벤트 기반 컨텐츠 통신

**일자**: 2024-XX-XX
**상태**: 결정됨
**관련 커밋**: `f5a5f11`

### 컨텍스트
- 컨텐츠(캐릭터, 인벤토리, 퀘스트 등) 간 통신 방식 필요
- 직접 참조 시 강한 결합 발생

### 선택지
1. **직접 참조**
   - 장점: 단순, IDE 지원 좋음
   - 단점: 강한 결합, 순환 참조 위험

2. **이벤트 버스**
   - 장점: 느슨한 결합, 확장 용이
   - 단점: 흐름 추적 어려움, 타입 안전성 감소

3. **메시지 브로커 패턴**
   - 장점: 중앙 집중 관리
   - 단점: 복잡도 증가

### 결정
**이벤트 버스** (타입 안전 이벤트)

**이유**:
- 컨텐츠 간 의존성 제거
- 새 컨텐츠 추가 시 기존 코드 수정 최소화
- 제네릭 기반 타입 안전성 확보

### 결과
- Contents 간 Assembly 참조 없음
- 기능 추가/제거 시 영향 범위 최소화
- 이벤트 정의를 통한 계약 명시

---

## [템플릿] 새 의사결정

**일자**: YYYY-MM-DD
**상태**: 검토중
**관련 커밋**: ``

### 컨텍스트
-

### 선택지
1. **선택지 A**
   - 장점:
   - 단점:

### 결정


### 결과

